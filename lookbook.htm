<!DOCTYPE html>
<html>

<head>
    <title>Online Store</title>
    <meta charset="utf-8">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="stylesheet" type="text/css" href="styles/animations.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="index.htm">
</head>

<body>
    <div class="fullpage" id="vueArea">
        <a name="top"></a>
        <!--Sticky nav-->
        <nav class="navbar navbar-expand-lg navbar-dark sticky-top px-5 lhn">
            <a href="index.htm">
                <image class="navbar-brand" src="images/Asset 1.png" href="#"></image>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-fill w-70 menulinks mx-auto">
                    <li class="nav-item"><a class="nav-link" href="shop.htm">SHOP</a></li>
                    <li class="nav-item"><a class="nav-link" href="lookbook.htm">LOOKBOOK</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.htm">ABOUT</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.htm">CONTACT</a></li>
                </ul>
                <!--Button for Basket-->
                <div>
                    <button id="basket" type="button" class="btn btn-primary  my-xl-0 my-lg-0 my-md-3 my-sm-3 my-xs-3"
                        data-bs-toggle="modal" data-bs-target="#basketLink">
                        <div id="basketCounter"><span id="counterText"></span>{{myBasket.length}}</span></div>
                        View Basket
                    </button>
                </div>
            </div>
        </nav>
        <!--Image and heading-->
        <header>
            <hgroup class="headerText col-xl-8 px-5 mx-auto">
                <h1>Take a look!</h1>
            </hgroup>
        </header>

        <!--Main Info-->
        <div class="mainarea container-fluid" style="display:flex">

            <!--Section Content-->

            <div class="content py-5 px-lg-5 px-m-5 px-s-5 mx-auto">
                <section>
                    <div class="lookGrid" data-bs-toggle="modal" data-bs-target="#galleryModalID">
                        <div class="lookWrap" id="look1">
                            <image class="lookPic" src="images/lookbook/1.jpg" alt="shopper in greenhouse" data-target="#carousel" data-slide-to="0"> 
                            </image>
                        </div>
                        <div class="lookWrap" id="look2">
                            <image class="lookPic" src="images/lookbook/2.jpg" alt="minimalist shelf" data-target="#carousel" data-slide-to="1">
                            </image>
                        </div>
                        <div class="lookWrap" id="look3">
                            <image class="lookPic" src="images/lookbook/3.jpg" alt="aloes in copper pots" data-target="#carousel" data-slide-to="2">
                            </image>
                        </div>
                        <div class="lookWrap" id="look4">
                            <image class="lookPic" src="images/lookbook/4.jpg" alt="succulent plant" data-target="#carousel" data-slide-to="3">
                            </image>
                        </div>
                        <div class="lookWrap" id="look5">
                            <image class="lookPic" src="images/lookbook/5.jpg" alt="employees at counter" data-target="#carousel" data-slide-to="4">
                            </image>
                        </div>
                        <div class="lookWrap" id="look6">
                            <image class="lookPic" src="images/lookbook/6.jpg" alt="boho home with plants" data-target="#carousel" data-slide-to="5">
                            </image>
                        </div>
                        <div class="lookWrap" id="look7">
                            <image class="lookPic" src="images/lookbook/7.jpg" alt="colourful plant shelves" data-target="#carousel" data-slide-to="6">
                            </image>
                        </div>
                        <div class="lookWrap" id="look8">
                            <image class="lookPic" src="images/lookbook/8.jpg" alt="plant with gift tag" data-target="#carousel" data-slide-to="7">
                            </image>
                        </div>
                        <div class="lookWrap" id="look9">
                            <image class="lookPic" src="images/lookbook/9.jpg" alt="monstera albo cutting" data-target="#carousel" data-slide-to="8">
                            </image>
                        </div>
                        <div class="lookWrap" id="look10">
                            <image class="lookPic" src="images/lookbook/10.jpg" alt="monstera adonsonii in brown bag" data-target="#carousel"
                                data-slide-to="9"></image>
                        </div>
                    </div>

                </section>

                <footer>
                    <hr>
                    <a id="backtotop" href="#top">Back to the top of page</a>
                </footer>

                <!--Basket-->
                <div class="modal fade" id="basketLink" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">My Basket</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <p>{{myBasket.length}} items</p>
                            <div class="modal-body">
                                <ul class="basketList">
                                    <li class="basketItem" v-for='(item, index) in myBasket'>
                                        <image class="basketImage" :src="item.image" v.model="item.image"></image>
                                        <span>{{item.name}}</span>
                                        <span>R {{item.price}}</span>
                                        <button @click="deleteItem (item, index)" class="remove">&#10005</button>
                                    </li>
                                </ul>
                            </div>
                            <div class="modal-footer">
                                <h4>Total: R {{total}}</h4>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <a href="images/CV 2021_KDT.pdf" download>
                                    <button type="button" id="download" class="btn btn-primary">Checkout</button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Gallery-->
                <div class="modal fade" id="galleryModalID" tabindex="-1" aria-labelledby="modalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog galleryModal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Take a look!</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div id="carousel" class="carousel" data-interval="false">
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img class="galleryPic" id="gp1" src="images/gallery/1.jpg"
                                                alt="shopper in greenhouse">
                                            <p class="galleryCaption">Get your plant fix at the 'Shop' section or book a visit to our
                                                greenhouse!</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp2" src="images/gallery/2.jpg"
                                                alt="minimalist shelf">
                                            <p class="galleryCaption">We love this minimalist arrangement! An airplant is the perfect fit for
                                                this modern shelf.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp3" src="images/gallery/3.jpg"
                                                alt="aloes in copper pots">
                                            <p class="galleryCaption">Make a statement with a set of 3 aloes in copper pots.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp5" src="images/gallery/4.jpg"
                                                alt="succulent plant">
                                            <p class="galleryCaption">Succulents are the ultimate low-maintenance plant. See ours under
                                                'water-wise'.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp5" src="images/gallery/5.jpg"
                                                alt="employees at counter">
                                            <p class="galleryCaption">Our team is passionate about quality assurance! We cannot wait to send
                                                your plant to you.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp6" src="images/gallery/6.jpg"
                                                alt="boho home with plants">
                                            <p class="galleryCaption">Nothing makes a home feel more peaceful than a jungle of plants. Start
                                                with a fiddle-leaf fig, calathea and philodendron.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp7" src="images/gallery/7.jpg"
                                                alt="colourful plant shelves">
                                            <p class="galleryCaption">Add colour to any room with a cluster of bright pots like these.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp8" src="images/gallery/8.jpg"
                                                alt="plant with gift tag">
                                            <p class="galleryCaption">Our plants make the perfect gift for any occasion.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp9" src="images/gallery/9.jpg"
                                                alt="monstera albo cutting">
                                            <p class="galleryCaption">Looking for the wow factor? Get a hold of a rare plant from our
                                                collection. This monstera variegata albo is our favourite.</p>
                                        </div>
                                        <div class="carousel-item">
                                            <img class="galleryPic" id="gp10" src="images/gallery/10.jpg"
                                                alt="monstera adonsonii in brown bag">
                                            <p class="galleryCaption">This monstera adonsonii is ready to go to its new home!</p>
                                        </div>
                                    </div>
                                    <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    </a>
                                    <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!--Javascript, Popper, Jquery bundle-->
            <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
                crossorigin="anonymous"></script>
            <script src="scripts/script.js"></script>

            <script>
                new Vue({
                    el: '#vueArea',
                    data: {
                        product: {
                            name: '',
                            type: '',
                            category: [''],
                            new: false,
                            featured: false,
                            addedToBasket: false,
                            image: '',
                            price: '',
                        },

                        myBasket: [],

                        total: 0,
                    },

                    methods: {
                        deleteItem(item, index) {
                            this.total = parseFloat(this.total) - parseFloat(item.price);
                            this.myBasket.splice(index, 1);
                            const taskArrStorage = JSON.stringify(this.myBasket);
                            const totalStorage = JSON.stringify(this.total);
                            localStorage.setItem("taskArrStorage", taskArrStorage);
                            localStorage.setItem("totalStorage", totalStorage);
                            console.log('Array Stored in Local')
                        }
                    },

                    mounted: function (item) {
                        let basketSaved = localStorage.getItem("taskArrStorage");
                        let totalSaved = localStorage.getItem("totalStorage");
                        let basketLoad = JSON.parse(basketSaved);
                        let totalLoad = JSON.parse(totalSaved);
                        if (basketLoad === null) {
                            console.log('No objects in array')
                        } else {
                            this.myBasket.push(...basketLoad);
                            this.total = parseFloat(totalLoad);
                        }
                    },

                })
            </script>


</body>

</html>